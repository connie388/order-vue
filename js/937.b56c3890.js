"use strict";(self["webpackChunkorder_vue"]=self["webpackChunkorder_vue"]||[]).push([[937],{3069:function(e,t,s){s.r(t),s.d(t,{default:function(){return Z}});var a=s(6252);const l={class:"flex flex-wrap -mx-3 mb-2"},n={class:"w-full md:w-1/5 px-3 mb-6 md:mb-0"},o={class:"w-full md:w-1/5 px-3 mb-6 md:mb-0"},r={class:"w-full md:w-1/5 px-3 mb-6 md:mb-0"},i={class:"w-full md:w-1/5 px-3 mb-6 md:mb-0"},m=(0,a._)("br",null,null,-1),u={class:"w-full md:w-1/5 px-3 mb-6 md:mb-0"},c=(0,a._)("br",null,null,-1),d={class:"overflow-auto"},h=(0,a._)("h1",{class:"text-xl font-bold text-center"}," Add Payment Information ",-1),p=(0,a._)("h1",{class:"text-xl font-bold text-center"}," Payment Information ",-1);function y(e,t,s,y,b,f){const g=(0,a.up)("BaseErrors"),w=(0,a.up)("BaseDropdown"),k=(0,a.up)("BaseInput"),v=(0,a.up)("BaseButton"),x=(0,a.up)("BaseViewTable"),C=(0,a.up)("PaymentFormEdit"),D=(0,a.up)("BaseModal"),N=(0,a.up)("NotificationModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a.Wm)(g,{errors:b.errors},null,8,["errors"])]),(0,a._)("div",l,[(0,a._)("div",n,[(0,a.Wm)(w,{options:b.customerList,label:"Customer Name",onSelected:f.setCustomerNumber},null,8,["options","onSelected"])]),(0,a._)("div",o,[(0,a.Wm)(k,{type:"date",label:"From Payment Date",modelValue:b.searchPaymentFromDate,"onUpdate:modelValue":t[0]||(t[0]=e=>b.searchPaymentFromDate=e)},null,8,["modelValue"])]),(0,a._)("div",r,[(0,a.Wm)(k,{type:"date",label:"To Payment Date",modelValue:b.searchPaymentToDate,"onUpdate:modelValue":t[1]||(t[1]=e=>b.searchPaymentToDate=e)},null,8,["modelValue"])]),(0,a._)("div",i,[m,(0,a.Wm)(v,{onClick:f.retrievePaymentsByCustomerAndDateRange,label:"Search Payments"},null,8,["onClick"])]),(0,a._)("div",u,[c,(0,a.Wm)(v,{className:"btn-green",onClick:t[2]||(t[2]=e=>this.visiblePaymentAdd=!0),label:"+Add Payment"})])]),(0,a._)("div",d,[(0,a.Wm)(x,{fields:y.paymentFields,editMode:!1,dataList:b.payments,onEditItem:f.editPayment,onDeleteItem:f.deletePayment,viewEnable:!1,filterEnable:!0},null,8,["fields","dataList","onEditItem","onDeleteItem"])]),(0,a.Wm)(D,{showing:b.visiblePaymentAdd,onClose:t[4]||(t[4]=e=>this.visiblePaymentAdd=!1)},{header:(0,a.w5)((()=>[h])),body:(0,a.w5)((()=>[(0,a.Wm)(C,{edit:!1,customerList:b.customerList,onOnClose:t[3]||(t[3]=e=>this.visiblePaymentAdd=!1),onOnSubmit:f.addPayment},null,8,["customerList","onOnSubmit"])])),_:1},8,["showing"]),(0,a.Wm)(D,{showing:b.visiblePaymentEdit,onClose:t[6]||(t[6]=e=>this.visiblePaymentEdit=!1)},{header:(0,a.w5)((()=>[p])),body:(0,a.w5)((()=>[(0,a.Wm)(C,{payment:e.selectedPayment,customerName:b.searchCustomerName,edit:!0,onOnClose:t[5]||(t[5]=e=>this.visiblePaymentEdit=!1),onOnSubmit:f.updatePayment},null,8,["payment","customerName","onOnSubmit"])])),_:1},8,["showing"]),(0,a.Wm)(N,{show:b.visibleMsgView,msg:b.msg,onClose:t[7]||(t[7]=e=>this.visibleMsgView=!1)},null,8,["show","msg"])],64)}s(7658);var b=s(5605),f=s(1619),g=s(4661),w=s(3066),k=s(3478),v=s(4535),x=s(2484),C=s(9963);const D={key:0},N={key:1};function P(e,t,s,l,n,o){const r=(0,a.up)("BaseErrors"),i=(0,a.up)("BaseLabel"),m=(0,a.up)("BaseDropdown"),u=(0,a.up)("BaseInput"),c=(0,a.up)("BaseButton");return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[3]||(t[3]=(0,C.iM)((()=>{}),["prevent"])),class:"w-full max-w-lg"},[(0,a.Wm)(r,{errors:n.errors},null,8,["errors"]),s.edit?((0,a.wg)(),(0,a.iD)("div",D,[(0,a.Wm)(i,{label:"Customer Name",info:s.customerName},null,8,["info"]),(0,a.Wm)(i,{label:"Check Number",info:n.form.checkNumber},null,8,["info"])])):((0,a.wg)(),(0,a.iD)("div",N,[(0,a.Wm)(m,{options:s.customerList,label:"Customer Name",onSelected:o.setCustomerNumber},null,8,["options","onSelected"]),(0,a.Wm)(u,{id:"checkNumber",label:"Check Number",modelValue:n.form.checkNumber,"onUpdate:modelValue":t[0]||(t[0]=e=>n.form.checkNumber=e)},null,8,["modelValue"])])),(0,a.Wm)(u,{type:"date",id:"paymentDate",label:"Payment Date",modelValue:n.form.paymentDate,"onUpdate:modelValue":t[1]||(t[1]=e=>n.form.paymentDate=e)},null,8,["modelValue"]),(0,a.Wm)(u,{id:"amount",type:"number",label:"Amount",modelValue:n.form.amount,"onUpdate:modelValue":t[2]||(t[2]=e=>n.form.amount=e)},null,8,["modelValue"]),(0,a.Wm)(c,{onClick:o.onsubmit,label:"Submit",class:"mr-2"},null,8,["onClick"]),(0,a.Wm)(c,{onClick:o.onclose,label:"Close"},null,8,["onClick"])],32)}var _=s(4185),S={emits:["onSubmit","onClose"],components:{BaseInput:g.Z,BaseButton:f.Z,BaseErrors:b.Z,BaseDropdown:w.Z,BaseLabel:_.Z},props:{customerName:{type:String},payment:{type:Object,default:null},edit:{type:Boolean},customerList:{type:Array}},data(){return{form:{customerNumber:null,checkNumber:"",paymentDate:null,amount:null},errors:[]}},created(){this.$watch((()=>this.payment),(()=>{this.payment&&(this.form.customerNumber=this.payment.customerNumber,this.form.checkNumber=this.payment.checkNumber,this.form.paymentDate=this.payment.paymentDate,this.form.amount=this.payment.amount)}),{immediate:!0})},methods:{onclose(){this.$emit("onClose")},setCustomerNumber(e){this.form.customerNumber=e.key},onsubmit(e){this.errors=[],this.form.customerNumber||this.errors.push("Customer  required."),this.form.checkNumber||this.errors.push("Check Number required."),this.form.paymentDate||this.errors.push("Payment Date required."),(!this.form.amount||this.form.amount<=0)&&this.errors.push("Payment Amount required."),this.errors.length||(e.preventDefault(),this.$emit("onSubmit",this.form))}}},B=s(3744);const E=(0,B.Z)(S,[["render",P]]);var A=E,I=s(9488),V={components:{BaseButton:f.Z,BaseInput:g.Z,BaseViewTable:k.Z,BaseDropdown:w.Z,BaseErrors:b.Z,BaseModal:v.Z,NotificationModal:x.Z,PaymentFormEdit:A},data(){return{customerList:[],searchCustomerNumber:null,searchCustomerName:"",searchPaymentFromDate:null,searchPaymentToDate:null,payments:[],visiblePaymentEdit:!1,visiblePaymentAdd:!1,visibleMsgView:!1,errors:[],msg:""}},setup(){const e=[{column:"checkNumber",header:"Check Number",type:"text"},{column:"paymentDate",header:"Payment Date",type:"text"},{column:"amount",header:"Amount",type:"number"}];return{paymentFields:e}},mounted(){this.retrieveCustomerList()},methods:{setCustomerNumber(e){this.searchCustomerNumber=e.key,this.searchCustomerName=e.text},editPayment(e){this.selectedPayment={...e,customerNumber:this.searchCustomerNumber},this.visiblePaymentEdit=!0},retrieveCustomerList(){this.customerList=[],(0,I.d)(I.b.CUSTOMER).fetchAll().then((e=>{for(let s in e.data){var t={key:e.data[s].customerNumber,text:e.data[s].customerName};this.customerList.push(t)}})).catch((e=>console.log(e)))},retrievePaymentsByCustomerAndDateRange(){this.errors=[],this.searchCustomerNumber||this.errors.push("Please select a customer."),this.payments=[],(0,I.d)(I.b.PAYMENT).fetchByCustomerAndDateRange(this.searchCustomerNumber,this.searchPaymentFromDate,this.searchPaymentToDate,null).then((e=>{for(let s in e.data){var t={customerNumber:e.data[s].customerNumber,checkNumber:e.data[s].checkNumber,paymentDate:e.data[s].paymentDate?.substring(0,10),amount:e.data[s].amount};this.payments.push(t)}})).catch((e=>console.log(e)))},updatePayment(e){var t={checkNumber:e.checkNumber,customerNumber:e.customerNumber,paymentDate:e.paymentDate,amount:e.amount};console.log("data="+t),(0,I.d)(I.b.PAYMENT).update(t.customerNumber,t.checkNumber,t).then((e=>{console.log(e.data),this.msg="Payment is updated successfully!",this.retrievePaymentsByCustomerAndDateRange()})).catch((e=>{console.log(e),this.msg="Something wrong happened"})),this.visibleMsgView=!0},addPayment(e){var t={checkNumber:e.checkNumber,customerNumber:e.customerNumber,paymentDate:e.paymentDate,amount:e.amount};console.log(t),(0,I.d)(I.b.PAYMENT).create(t).then((e=>{console.log(e.data),this.checkNumber=e.data.checkNumber,this.msg="Payment is added successfully!",this.retrievePaymentsByCustomerAndDateRange()})).catch((e=>{console.log(e),this.msg="Something wrong happened"})),this.visibleMsgView=!0},deletePayment(e){(0,I.d)(I.b.PAYMENT).delete(e.customerNumber,e.checkNumber).then((e=>{console.log(e.data),this.msg="Payment is deleted successfully!",this.retrievePaymentsByCustomerAndDateRange()})).catch((e=>{console.log(e),this.msg="Something wrong happened"})),this.visibleMsgView=!0}}};const q=(0,B.Z)(V,[["render",y]]);var Z=q},3066:function(e,t,s){s.d(t,{Z:function(){return h}});var a=s(6252),l=s(3577),n=s(9963);const o=["for"],r=["value"],i=["value"];function m(e,t,s,m,u,c){return(0,a.wg)(),(0,a.iD)("div",null,[s.label?((0,a.wg)(),(0,a.iD)("label",{key:0,for:s.id,class:(0,l.C_)(s.labelClass)},(0,l.zw)(s.label),11,o)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("select",{class:(0,l.C_)(s.className),"onUpdate:modelValue":t[0]||(t[0]=e=>u.selectedOption=e),onChange:t[1]||(t[1]=(...e)=>c.onchange&&c.onchange(...e))},[(0,a._)("option",{value:u.selectedOption?.key||""},(0,l.zw)(u.selectedOption?.text||"Please select one."),9,r),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.options,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,l.zw)(e?.text),9,i)))),128))],34),[[n.bM,u.selectedOption]])])}var u={emits:["selected"],props:{initialOption:{type:Object,default:null},id:{type:String,default:""},label:{type:String,default:""},labelClass:{type:String,default:"field-label"},options:{type:Array,required:!0},className:{type:String,default:"field-input"}},data(){return{selectedOption:""}},created(){this.selectedOption=this.initialOption},methods:{onchange(){this.selectedOption&&this.$emit("selected",this.selectedOption)}}},c=s(3744);const d=(0,c.Z)(u,[["render",m]]);var h=d},5605:function(e,t,s){s.d(t,{Z:function(){return d}});var a=s(6252),l=s(3577);const n={key:0},o=(0,a._)("b",null,"Please correct the following error(s):",-1),r={class:"text-red-500"};function i(e,t,s,i,m,u){return s.errors.length?((0,a.wg)(),(0,a.iD)("p",n,[o,(0,a._)("ul",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.errors,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e},(0,l.zw)(e),1)))),128))])])):(0,a.kq)("",!0)}var m={name:"BaseErrors",props:{errors:{type:Array,default:null}}},u=s(3744);const c=(0,u.Z)(m,[["render",i]]);var d=c},4185:function(e,t,s){s.d(t,{Z:function(){return u}});var a=s(6252),l=s(3577);const n=["for"];function o(e,t,s,o,r,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,[s.label?((0,a.wg)(),(0,a.iD)("label",{key:0,for:s.id,class:(0,l.C_)(s.className)},(0,l.zw)(s.label),11,n)):(0,a.kq)("",!0),s.info?((0,a.wg)(),(0,a.iD)("label",{key:1,class:(0,l.C_)(s.infoClassName)},(0,l.zw)(s.info),3)):(0,a.kq)("",!0)],64)}var r={name:"BaseLabel",props:{id:{type:String,default:""},label:{type:String,default:""},info:{type:[String,Number],default:""},className:{type:String,default:"field-label"},infoClassName:{type:String,default:"field"}}},i=s(3744);const m=(0,i.Z)(r,[["render",o]]);var u=m},3478:function(e,t,s){s.d(t,{Z:function(){return F}});var a=s(6252),l=s(9963),n=s(3577);const o={key:0},r={key:0},i={key:1},m={key:0},u=(0,a.uE)('<div class="flex items-center space-x-2"><div class="relative"><span class="relative inline-flex items-center px-3 py-3 space-x-2 text-sm font-medium text-gray-600 rounded-md sm:py-2"><div><i class="fa-solid fa-filter fa-lg"></i></div><div class="hidden sm:block">Filters:</div></span></div></div>',1),c={class:"flex flex-wrap justify-between py-3 pl-2"},d=["onUpdate:modelValue","placeholder"],h=(0,a._)("div",{class:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none"},[(0,a._)("i",{class:"fa-solid fa-magnifying-glass fa-2xs text-gray-500"})],-1),p={id:"tableComponent",class:"min-w-full divide-y divide-gray-200"},y={class:"bg-gray-50"},b={key:0},f=(0,a._)("th",{scope:"col",class:"py-3 pl-4"},[(0,a._)("div",{class:"flex items-center h-5"},[(0,a._)("input",{id:"checkbox-all",type:"checkbox",class:"text-blue-600 border-gray-200 rounded focus:ring-blue-500"}),(0,a._)("label",{for:"checkbox",class:"sr-only"}," Checkbox ")])],-1),g=[f],w=["onClick"],k={key:0,class:"fa-solid fa-arrow-down"},v={key:1,class:"fa-solid fa-arrow-up"},x={key:1,scope:"col",class:"px-6 py-3 text-sm font-bold text-right text-gray-500"},C={key:2,scope:"col",class:"px-6 py-3 text-sm font-bold text-right text-gray-500"},D={key:3,scope:"col",class:"px-6 py-3 text-sm font-bold text-right text-gray-500"},N={class:"divide-y divide-gray-200"},P={key:0},_=(0,a._)("td",{class:"border py-3 pl-4"},[(0,a._)("div",{class:"flex items-center h-5"},[(0,a._)("input",{type:"checkbox",class:"text-blue-600 border-gray-200 rounded focus:ring-blue-500"}),(0,a._)("label",{for:"checkbox",class:"sr-only"}," Checkbox ")])],-1),S=[_],B=["onClick"],E=["onClick"],A=(0,a._)("a",{class:"text-blue-500 hover:text-blue-700",href:"#"},[(0,a._)("i",{class:"fa-solid fa-eye"})],-1),I=[A],V=["onClick"],q=(0,a._)("a",{class:"text-green-500 hover:text-green-700",href:"#"},[(0,a._)("i",{class:"fa-solid fa-pen-to-square"})],-1),Z=[q],L=["onClick"],W=(0,a._)("a",{class:"text-red-500 hover:text-red-700",href:"#"},[(0,a._)("i",{class:"fa-solid fa-trash-can"})],-1),O=[W];function M(e,t,s,f,_,A){return(0,a.wg)(),(0,a.iD)("div",null,[0===s.dataList?.length?((0,a.wg)(),(0,a.iD)("div",o,[s.showmsg?((0,a.wg)(),(0,a.iD)("div",r,"No data available")):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("div",i,[s.filterEnable?((0,a.wg)(),(0,a.iD)("div",m,[u,(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.fields,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"relative min-w-xs",key:e.column},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t=>_.searchString[e.column]=t,placeholder:e.header,class:"px-6 py-4 text-xs font-medium text-right whitespace-nowrap"},null,8,d),[[l.nr,_.searchString[e.column]]]),h])))),128))])])):(0,a.kq)("",!0),(0,a._)("table",p,[(0,a._)("thead",y,[(0,a._)("tr",null,[s.checkboxEnable?((0,a.wg)(),(0,a.iD)("div",b,g)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.fields,(e=>((0,a.wg)(),(0,a.iD)("th",{scope:"col",class:(0,n.C_)([["number"==e.type?"text-right":"text-left"],"px-6 py-3 text-xs font-bold uppercase"]),key:e.column,onClick:t=>A.setSortColumn(e.column)},[(0,a.Uk)((0,n.zw)(e.header)+" ",1),e.column==_.sortColumn&&"DESC"==_.order?((0,a.wg)(),(0,a.iD)("i",k)):(0,a.kq)("",!0),e.column==_.sortColumn&&"ASC"==_.order?((0,a.wg)(),(0,a.iD)("i",v)):(0,a.kq)("",!0)],10,w)))),128)),s.viewEnable?((0,a.wg)(),(0,a.iD)("th",x," View ")):(0,a.kq)("",!0),s.editEnable?((0,a.wg)(),(0,a.iD)("th",C," Edit ")):(0,a.kq)("",!0),s.deleteEnable?((0,a.wg)(),(0,a.iD)("th",D," Delete ")):(0,a.kq)("",!0)])]),(0,a._)("tbody",N,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(A.filteredList,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[s.checkboxEnable?((0,a.wg)(),(0,a.iD)("div",P,S)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.fields,(s=>((0,a.wg)(),(0,a.iD)("td",{class:(0,n.C_)(["px-6 py-4 text-xs font-medium text-gray-800 whitespace-nowrap",["number"==s.type?"text-right":"text-left"]]),key:s.column,onClick:s=>A.onclick(e,t)},(0,n.zw)(e[s.column]),11,B)))),128)),s.viewEnable?((0,a.wg)(),(0,a.iD)("td",{key:1,class:"px-6 py-4 text-xs font-medium text-right whitespace-nowrap",onClick:s=>A.viewItem(e,t)},I,8,E)):(0,a.kq)("",!0),s.editEnable?((0,a.wg)(),(0,a.iD)("td",{key:2,class:"px-6 py-4 text-xs font-medium text-right whitespace-nowrap",onClick:s=>A.editItem(e,t)},Z,8,V)):(0,a.kq)("",!0),s.deleteEnable?((0,a.wg)(),(0,a.iD)("td",{key:3,class:"px-6 py-4 text-xs font-medium text-right whitespace-nowrap",onClick:s=>A.deleteItem(e,t)},O,8,L)):(0,a.kq)("",!0)])))),128))])])]))])}var T={name:"TableComponent",emits:["onclick","viewItem","editItem","deleteItem"],props:{viewEnable:{type:Boolean,default:!0},editEnable:{type:Boolean,default:!0},deleteEnable:{type:Boolean,default:!0},dataList:{type:Array},fields:{type:Array},showmsg:{type:Boolean,default:!1},reset:{type:Boolean,default:!0},filterEnable:{type:Boolean,default:!1},checkboxEnable:{type:Boolean,default:!1}},data(){return{sortColumn:"",order:"ASC",searchString:[],currentIndex:-1}},created(){this.$watch((()=>this.reset),(()=>{this.currentIndex=-1}),{immediate:!0})},methods:{setSortColumn(e){this.sortColumn===e?this.order="ASC"===this.order?"DESC":"ASC":(this.order="ASC",this.sortColumn=e)},onclick(e,t){this.currentIndex=t,this.$emit("onclick",e)},viewItem(e,t){this.currentIndex=t,this.$emit("viewItem",e)},editItem(e,t){this.currentIndex=t,this.$emit("editItem",e)},deleteItem(e,t){this.currentIndex=t,this.$emit("deleteItem",e)}},computed:{filteredList(){var e=this.dataList;for(let a=0;a<this.fields?.length;a++)e=this.searchString[this.fields[a]["column"]]?e.filter((e=>{let t=""+e[this.fields[a]["column"]];return t.includes(this.searchString[this.fields[a]["column"]])})):e;const t=this.sortColumn,s=this.order;return e.sort((function(e,a){var l=e[t]+"".toUpperCase(),n=a[t]+"".toUpperCase();return"DESC"===s&&l>n?-1:"DESC"===s&&l<n?1:l<n?-1:l>n?1:0})),e}}},U=s(3744);const Y=(0,U.Z)(T,[["render",M]]);var F=Y}}]);
//# sourceMappingURL=937.b56c3890.js.map